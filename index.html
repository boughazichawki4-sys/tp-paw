<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tutorial 2 — Add & Manage Students</title>
  <link rel="stylesheet" href="style.css"> <!-- Fichier CSS externe -->
</head>
<body>

  <h1>Attendance Management — Tutorial 2</h1>
  <!-- Search + controls above the table -->
  <div class="search-controls">
    <label for="searchName">Search by Name:</label>
    <input id="searchName" type="text" placeholder="Type first or last name...">
    <button id="sortAbsBtn" type="button">Sort by Absences (Ascending)</button>
    <button id="sortParBtn" type="button">Sort by Participation (Descending)</button>
  </div>

  <!-- Tableau placé en haut -->
  <table id="attendanceTable">
    <thead>
      <tr>
        <th>Student ID</th>
        <th>Last Name</th>
        <th>First Name</th>
        <th colspan="2">S1</th>
        <th colspan="2">S2</th>
        <th colspan="2">S3</th>
        <th colspan="2">S4</th>
        <th colspan="2">S5</th>
        <th colspan="2">S6</th>
        <th>Absences</th>
        <th>Participations</th>
        <th>Message</th>
      </tr>
      <tr>
        <th></th><th></th><th></th>
        <th>Pr</th><th>Pa</th>
        <th>Pr</th><th>Pa</th>
        <th>Pr</th><th>Pa</th>
        <th>Pr</th><th>Pa</th>
        <th>Pr</th><th>Pa</th>
        <th>Pr</th><th>Pa</th>
        <th></th><th></th><th></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>202331631713</td><td>boughazi</td><td>chawki</td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox" checked></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox" checked></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td class="abs"></td>
        <td class="par"></td>
        <td class="msg"></td>
      </tr>
    </tbody>
  </table>

  <div id="sortStatus" class="sort-status">Currently unsorted</div>

  <div class="action-buttons">
    <button id="highlightBtn" type="button">Highlight Excellent Students</button>
    <button id="resetBtn" type="button">Reset Colors</button>
  </div>

  <!-- ===== Formulaire d'ajout d'étudiant ===== -->
  <div class="container">
    <h2>Add Student</h2>
    <p><a href="add_student.php">Ouvrir le formulaire PHP pour ajouter un étudiant</a></p>
    <form id="studentForm">
      <label for="studentId">Student ID:</label>
      <input type="text" id="studentId">
      <div class="error" id="idError"></div>

      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName">
      <div class="error" id="lastNameError"></div>

      <label for="firstName">First Name:</label>
      <input type="text" id="firstName">
      <div class="error" id="firstNameError"></div>

      <label for="email">Email:</label>
      <input type="text" id="email">
      <div class="error" id="emailError"></div>

      <button type="submit">Add Student</button>
    </form>
  </div>

  
  <!-- ===== Rapport de présence ===== -->
  <div class="report-panel">
    <button id="showReport" type="button">Show Report</button>
    <div id="reportOutput" class="report-output"></div>
    <canvas id="reportChart" width="400" height="300"></canvas>
  </div>

  <!-- 'Last Added Student' supprimé -->

  <!-- jQuery (needed for the highlight/reset behaviour) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Chart.js for donut chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script> <!-- Fichier JS externe -->
</body>
</html>
